var wag={};wag.apiKey="6ac20078901cea18218523b01b037eea",wag.liked=[],wag.location=function(){$("form").on("submit",function(a){a.preventDefault();var e=$("input.location").val(),t=$("#size").val(),i=$("#age").val();wag.getData(e,t,i)})},wag.displayDogs=function(a){$("header.intro").fadeOut(),$.each(a,function(a,e){var t=e.media.photos,i=e.description;if(console.log(e),void 0!=t&&void 0!=i){var n=$("<p>").addClass("dogName").text(e.name.$t),o=$("<p>").addClass("dogAge").text(e.age.$t),d=$("<p>").addClass("breed").text(e.breeds.breed.$t),s=$("<img>").attr("src",e.media.photos.photo[2].$t),c=$("<li>").addClass("dogFile").attr("data-dscrpt",e.description.$t).append(s,n,o,d);$(".deck").append(c)}}),wag.sortDogs()},wag.sortDogs=function(){$(".results").jTinder({onLike:function(a){var e=a.index(),t=$("ul.deck li"),i=t[e];wag.liked.push({name:$(i).find("p.dogName").text(),description:$(i).data("dscrpt"),image:$(i).find("img").attr("src")}),wag.showLiked()},animationRevertSpeed:200,animationSpeed:400,threshold:1})},wag.showLiked=function(){$(".faveddogs").empty(),$("input.view").on("click",function(){$("section.choices").fadeIn()}),$.each(wag.liked,function(a,e){var t=$("<p>").addClass("choiceName").text(e.name),i=$("<p>").addClass("choiceDescription").text(e.description),n=$("<img>").attr("src",e.image),o=$("<article>").append(n,t,i);$(".faveddogs").append(o)})},wag.getData=function(a,e,t){$.ajax({url:"http://api.petfinder.com/pet.find",type:"GET",dataType:"jsonp",data:{key:wag.apiKey,format:"json",animal:"dog",location:a,output:"string",size:e,count:10,age:t},success:function(a){wag.displayDogs(a.petfinder.pets.pet)}})},wag.flickity=function(){{var a=document.querySelector(".gallery");new Flickity(a,{cellAlign:"center",contain:!0,setGallerySize:!1,imagesLoaded:!0,wrapAround:!0,autoPlay:5e3,prevNextButtons:!1,pageDots:!1})}},wag.init=function(){wag.flickity(),wag.location()},$(function(){wag.init()});
